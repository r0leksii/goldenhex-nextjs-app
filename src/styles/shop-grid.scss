/* Shop product grid overrides and fixes */

/* Scope all overrides to the shop page area so we don't affect sliders or other sections */
.bd-shop__area {
  /* Ensure product cards stretch consistently */
  .bd-trending__item {
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  /* Product image thumbnail area */
  .bd-trending__product-thumb {
    position: relative;
    background: var(--clr-bg-grey);
    border-radius: 8px;
    padding: 10px; /* smaller, consistent padding */
    overflow: hidden; /* prevent image spill */
    box-shadow: 0 0 0 1px var(--clr-border-4) inset;
  }

  /* Make the clickable square area truly square and full width */
  .bd-trending__product-thumb .ratio {
    display: block;
    width: 100%;
    height: auto; /* height derives from aspect-ratio */
  }

  /* Next/Image adds an inline-sized wrapper span. Force it to fill the ratio area. */
  .bd-trending__product-thumb .ratio > span {
    width: 100% !important;
    height: 100% !important;
    display: block !important;
  }

  /* Next/Image default width/height sometimes overflow. Force containment. */
  .bd-trending__product-thumb .ratio img,
  .bd-trending__product-thumb img,
  .object-fit-contain {
    width: 100% !important;
    height: 100% !important;
    object-fit: contain !important;
    display: block;
  }

  /* Make link fill the thumb area */
  .bd-trending__product-thumb a.ratio {
    display: block;
    width: 100%;
    height: auto;
  }

  /* Content spacing below image */
  .bd-teanding__content { /* keep misspelling to match existing markup */
    padding-top: 10px;
    display: flex;
    flex-direction: column;
    row-gap: 4px;
    align-items: stretch;
  }

  /* Title clamping to two lines for tidy grid */
  .bd-product__title a {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Price emphasis */
  .bd-product__price .bd-product__new-price {
    color: var(--clr-text-5);
    font-weight: var(--bd-fw-sbold);
  }

  .bd-product__price { margin-top: 2px; }

  /* Availability badge */
  .bd-product__availability .out-of-stock {
    display: inline-block;
    margin-top: 6px;
    font-size: 12px;
    color: var(--clr-text-3);
  }
}
